<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz - Paralisia Facial</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="./quiz-styles.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">Paralisia Facial</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Início</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="quiz-container">
        <div class="container">
            <div class="quiz-wrapper">
                <div class="quiz-header text-center">
                    <h1><i class="fas fa-brain"></i> Quiz da Paralisia Facial</h1>
                    <p>Teste seus conhecimentos sobre a condição</p>
                </div>

                <div id="player-registration" class="registration-card">
                    <h3>Registre-se para Jogar</h3>
                    <div class="input-group">
                        <input type="text" id="player-name" placeholder="Seu nome">
                        <button class="quiz-btn" onclick="startQuizWithPlayer()">
                            <i class="fas fa-play"></i> Começar Quiz
                        </button>
                    </div>
                </div>

                <div id="quiz-content">
                    <div id="question-container" class="question-card">
                        <div class="progress-bar-wrapper">
                            <div class="progress-bar"></div>
                        </div>
                        <h3 id="question-text"></h3>
                        <div id="options-container" class="options-container"></div>
                    </div>

                    <div id="result-container" class="result-card" style="display: none;">
                        <h2>Resultado</h2>
                        <div class="score-container">
                            <div class="score-circle">
                                <span id="score">0</span>
                                <span class="score-label">Pontos</span>
                            </div>
                        </div>
                        <div id="result-details"></div>
                        <button class="quiz-btn" onclick="restartQuiz()">
                            <i class="fas fa-redo"></i> Tentar Novamente
                        </button>
                    </div>
                </div>

                <div class="leaderboard-section">
                    <h3><i class="fas fa-trophy"></i> Ranking dos Melhores</h3>
                    <div id="leaderboard" class="leaderboard-container">
                        <!-- Será preenchido pelo JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts necessários -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
    <!-- Definição inicial da função -->
    <script>
        function startQuizWithPlayer() {
            console.log("Quiz iniciando...");
            // A implementação completa virá do quiz.js
        }
    </script>
    
    <!-- Carrega o arquivo principal do quiz -->
    <script src="./quiz.js"></script>
    
    <!-- Verificação -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM carregado!");
            if (typeof startQuizWithPlayer === 'function') {
                console.log("Função startQuizWithPlayer está definida!");
            } else {
                console.error("Função startQuizWithPlayer não encontrada!");
            }
        });
    </script>

    <!-- Scripts -->
    <script>
        // Função de teste diretamente no HTML
        function testarRanking() {
            const testScores = [
                { name: "João", score: 100 },
                { name: "Maria", score: 90 },
                { name: "Pedro", score: 80 }
            ];
            localStorage.setItem('quizScores', JSON.stringify(testScores));
            location.reload(); // Recarrega a página para mostrar as pontuações
        }
    </script>
</body>
</html> 